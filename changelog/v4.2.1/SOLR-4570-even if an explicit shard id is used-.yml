title: Even if an explicit shard id is used, ZkController#preRegister should still
  wait to see the shard id in its current ClusterState.
type: fixed
authors:
- name: Mark Miller
links:
- name: SOLR-4570
  url: https://issues.apache.org/jira/browse/SOLR-4570
