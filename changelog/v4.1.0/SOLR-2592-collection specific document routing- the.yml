title: 'Collection specific document routing. The "compositeId" router is the default
  for collections with hash based routing (i.e. when numShards=N is specified on collection
  creation). Documents with ids sharing the same domain (prefix) will be routed to
  the same shard, allowing for efficient querying. Example: The following two documents
  will be indexed to the same shard since they share the same domain "customerB!".
  &lt;code&gt; {"id" : "customerB!doc1" [...] } {"id" : "customerB!doc2" [...] } &lt;/code&gt;
  At query time, one can specify a "shard.keys" parameter that lists what shards the
  query should cover. http://.../query?q=my_query&shard.keys=customerB! Collections
  that do not specify numShards at collection creation time use custom sharding and
  default to the "implicit" router. Document updates received by a shard will be indexed
  to that shard, unless a "_shard_" parameter or document field names a different
  shard.'
type: added
authors:
- name: Michael Garski
- name: Dan Rosher
- name: yonik
links:
- name: SOLR-2592
  url: https://issues.apache.org/jira/browse/SOLR-2592
