{
  "documentation": "https://lucene.apache.org/solr/guide/collections-api.html",
  "description": "Several collection-level operations are supported with this endpoint: modify collection attributes; reload a collection; migrate documents to a different collection; rebalance collection leaders; balance properties across shards; and add or delete a replica property.",
  "methods": [
    "POST"
  ],
  "url": {
    "paths": [
      "/collections/{collection}",
      "/c/{collection}"
    ]
  },
  "commands": {
    "rebalance-leaders" :{
      "type":"object",
      "documentation": "https://lucene.apache.org/solr/guide/replica-management.html#rebalanceleaders",
      "description": "Reassign leaders in a collection according to the preferredLeader property across active nodes. This command should be run after the preferredLeader property has been set with the balance-shards or add-replica-property commands.",
      "properties":{
        "maxAtOnce":{
          "type":"integer",
          "description":"The maximum number of reassignments to have in the queue at one time. Values <=0 use the default value Integer.MAX_VALUE. When this number is reached, the process waits for one or more leaders to be successfully assigned before adding more to the queue."
        },
        "maxWaitSeconds":{
          "type":"integer",
          "description":"Timeout, in seconds, when waiting for leaders to be reassigned. If maxAtOnce is less than the number of reassignments pending, this is the maximum interval for any single reassignment.",
          "default": "60"
        }
      }
    },
    "add-replica-property": {
      "documentation": "https://lucene.apache.org/solr/guide/replica-management.html#addreplicaprop",
      "description": "Assign an arbitrary property to a particular replica and give it the value specified. If the property already exists, it will be overwritten with the new value.",
      "type": "object",
      "properties": {
        "shard": {
          "type": "string",
          "description": "The name of the shard the replica belongs to."
        },
        "replica": {
          "type": "string",
          "description": "The name of the replica."
        },
        "name": {
          "type": "string",
          "description": "The name of the property. This can be entered as 'property.<property>' or simply '<property>'. If the 'property.' prefix is not defined, it will be added automatically."
        },
        "value": {
          "type": "string",
          "description": "The value to assign to the property."
        },
        "shardUnique": {
          "type": "boolean",
          "description": "If true, setting this property in one replica will remove the property from all other replicas in that shard.",
          "default": "false"
        }
      },
      "required": [
        "name",
        "value",
        "shard",
        "replica"
      ]
    },
    "delete-replica-property": {
      "description": "Deletes an arbitrary property from a particular replica",
      "documentation": "https://lucene.apache.org/solr/guide/replica-management.html#deletereplicaprop",
      "type": "object",
      "properties": {
        "shard": {
          "type": "string",
          "description": "The name of the shard the replica belongs to."
        },
        "replica": {
          "type": "string",
          "description": "The name of the replica."
        },
        "property": {
          "type": "string",
          "description": "The name of the property to remove."
        }
      },
      "required":["shard","replica","property"]
    },
    "set-collection-property": {
      "documentation": "https://lucene.apache.org/solr/guide/collection-management.html#collectionprop",
      "description": "Sets a property for the collection",
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the property"
        },
        "value": {
          "type": "string",
          "description": "The value of the property. When not provided, the property is deleted"
        }
      },
      "required": [
        "name"
      ]
    }
  }
}
